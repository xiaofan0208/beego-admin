<script src="/static/plugins/bootstrapvalidator/dist/js/bootstrapValidator.min.js"></script>
<script src="/static/plugins/bootstrapvalidator/dist/js/language/zh_CN.js"></script>

<!-- Bootstrap Switch -->
<script src="/static/AdminLTE3.0/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<script>
	// switch 开关
	$(function () {
		$("input[data-bootstrap-switch]").each(function () {
			var state = false
			if ({{.Record.IsAdmin}} == 1) {
				state = true
			}
			//手动设置按钮状态
			$(this).bootstrapSwitch('state', state);
			//点击触发事件，监听按钮状态
			$(this).on('switchChange.bootstrapSwitch', function (event, state) {

				//获取状态
				console.log(state);
			})
		});
	})
</script>

<script>
	$(function () {
		Validator({{.listURL}})
	})
	// 保存提交
	function SaveSubmit() {
		console.log("--SaveSubmit---------")
		
		$('#BackenduserForm').bootstrapValidator('validate');
	}

	function Validator(JumpURL){
		var tableId = "#BackenduserForm"
		$(tableId).bootstrapValidator({
			message: 'This value is not valid',
			//提供输入验证图标提示
			feedbackIcons: {
				valid: 'glyphicon glyphicon-ok',
				invalid: 'glyphicon glyphicon-remove',
				validating: 'glyphicon glyphicon-refresh'
			},
			fields: {
				Name: {
					message: '用户名验证失败',
					validators: {
						notEmpty: {
							message: '用户名不能为空'
						},
						// stringLength: {
						// 	min: 6,
						// 	max: 30,
						// 	message: '用户名长度必须在4到12之间'
						// },
					}
				}
			}

		}).on('success.form.bv', function(e){ //点击提交之后
			e.preventDefault();
			var $form = $(e.target);
			var bv = $form.data('bootstrapValidator');

			// Use Ajax to submit form data 提交至form标签中的action，result自定义
			$.post($form.attr('action'), $form.serialize(), function(result) {
				//恢复submit按钮disable状态。
				$(tableId).bootstrapValidator('disableSubmitButtons', false);
				//跳转
				console.log("---------跳转------result = " , result)
			//	window.location.href=JumpURL
			});
			
		 
		})
	}
</script>